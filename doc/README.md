# 人类计算器的工作方式

## 人类计算表达式的几条习惯

1. 人类喜欢计算的表达式是一串只有数字和计算符号的表达式，没有括号
2. 人类思维比较简单，每次只能做一个操作


##  数据结构定义
1. 数字元素
2. 计算符号元素，包括加、减、乘、除和幂
3. 合并符号元素，包括括号


## 核心逻辑结构
    运算表达式,类型包括复合表达式和数字表达式。
    
    运算表达式有一个可空的计算符号元素后缀，为空时代表当前是表达式的最后一项。
    
    运算表达式有一个子表达式列表。
    
    运算表达式可支持的操作有拆分和计算。
    其中拆分的目的是用运算表达式代替括号,每次拆分操作，都只能去除一对括号
    计算的目的是将当前表达式计算成一个数字

## 模拟人的思维的计算器的计算过程
1. 输入计算表达式，需要保证表达式合法
2. 将计算表达式解析成固定的数据结构的列表
3. 生成第一个复合表达式，并执行拆分
4. 对复合表达式进行计算，并用当前表达式计算结果替换当前表达式，不断计算一直到结果变为数字
5. 对一串只有数字和计算符号的表达式进行计算
6. 得到计算结果

## 辅助功能
1. 可视化计算过程，目前的想法是将整个过程输出成json文件，然后在网页上进行解析展示